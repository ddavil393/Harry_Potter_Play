<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style/stylecon.css">
    <title>Congratulations</title>
</head>
<body>
    
<script type="text/javascript">
	var datosjuego=localStorage.getItem("datosjuego");
	datosjuego=JSON.parse(datosjuego);  
	if(datosjuego==null) datosjuego=[];

function init() {
	var h1= document.getElementById("con");
	h1.innerHTML =localStorage.getItem("name");
	var h2= document.getElementById("pun");
	h2.innerHTML +=localStorage.getItem("puntos");
	var h3= document.getElementById("tie");
	h3.innerHTML +=localStorage.getItem("tiempo");
	guardar();
}
function guardar(){
	var nombre = localStorage.getItem("name");
    var puntos = localStorage.getItem("puntos");
	var tiempo = localStorage.getItem("tiempo");
	var jugador = JSON.stringify(
          { nombre:nombre, 
              puntos:puntos,  
              tiempo:tiempo});
    datosjuego.push(jugador);
    localStorage.setItem("datosjuego",JSON.stringify(datosjuego));
}
	window.addEventListener("load",init,false);
</script>
<body>
	<div class="col-10 center gamecontainer">
	<div class="row">
    	<div class="container">
    		<div class="col-10 center">
    			<img class="center col-10"src="images/Felicidades.png"></img>
    		</div>
    		<div class="col-10 center" style="margin-top: 0;">
    			<h1 class="center col-10" id="con"></h1>
				<h1 class="center" id="pun">Puntuacion: </h1>	
				<h1 class="center" id="tie">Tiempo: </h1>	
    		</div>
    		<div class="col-10 center" style="margin-top: 0;">
    			<img class="center col-10"src="images/Has-ganado.png">
    		</div>
    		<div class="col-10 center">
    			<a href="inicio.html" class="center col-10" id="volverbtn">Volver a jugar</a>
				<a href="index.html" style="float: right; margin-top: 20px; " id="volverbtn">Salir</a>
				<button class="btn btn-outline-primary" onclick='mostrar()'>Ver puntaje de los jugadores</button>
    		</div>
    	</div>
		<div class="container mt-3">
			<table id="listado" style="color: rgb(35, 128, 16);" class="table table-striped"></table>
		</div>
    </div>
	</div>
	<script>
		function mostrar(){ 
		var tabla="<tr><th>Usuario</th><th>Puntaje</th><th>Tiempo</th></tr>";
		for(var i in datosjuego){
			var jugador = JSON.parse(datosjuego[i]);
			tabla += "<tr><td>"+jugador.nombre+"</td>";
			tabla += "<td>"+jugador.puntos+"</td>";
			tabla +="<td>"+jugador.tiempo +"</td>";
			tabla += "</tr>";
		}
		document.getElementById("listado").innerHTML=tabla;
}
	</script>



</body>
</html>